Pulling image: gcr.io/k8s-skaffold/pack
Using default tag: latest
latest: Pulling from k8s-skaffold/pack
396c31837116: Pulling fs layer
9776b10d5c8c: Pulling fs layer
52cb9ac3197f: Pulling fs layer
9776b10d5c8c: Download complete
396c31837116: Verifying Checksum
396c31837116: Download complete
52cb9ac3197f: Verifying Checksum
52cb9ac3197f: Download complete
396c31837116: Pull complete
9776b10d5c8c: Pull complete
52cb9ac3197f: Pull complete
Digest: sha256:221c0c0d9a90f46f108bb888a1da9e99c82ff631e8b1c63b0223ea951752bd53
Status: Downloaded newer image for gcr.io/k8s-skaffold/pack:latest
gcr.io/k8s-skaffold/pack:latest
nodejs_20251025_RC00: Pulling from serverless-runtimes/google-22-full/builder/nodejs
828c1365039a: Already exists
1e791d71ac71: Already exists
17cb3c20ed98: Already exists
b5610eafd34a: Pulling fs layer
cc313e18cf91: Pulling fs layer
3e46f7907d58: Pulling fs layer
6a76213686a9: Pulling fs layer
72268a235e14: Pulling fs layer
37c380976094: Pulling fs layer
fe0a88c014e5: Pulling fs layer
1a82443b3661: Pulling fs layer
f4ea2782e950: Pulling fs layer
e3d881d68312: Pulling fs layer
fe7ad6f9509d: Pulling fs layer
6a76213686a9: Waiting
72268a235e14: Waiting
37c380976094: Waiting
fe0a88c014e5: Waiting
1a82443b3661: Waiting
f4ea2782e950: Waiting
68d6b356cfa6: Pulling fs layer
b9ac3fccdee8: Pulling fs layer
e3d881d68312: Waiting
e588bc675351: Pulling fs layer
e51987dd3261: Pulling fs layer
b308621eb3e6: Pulling fs layer
9bb8a6cde081: Pulling fs layer
8cde9b053189: Pulling fs layer
ab5ef8fcc8f3: Pulling fs layer
3147e65229c6: Pulling fs layer
c902fddc9ebc: Pulling fs layer
dc0c9a1703ec: Pulling fs layer
c669b00d5572: Pulling fs layer
6ca7e417f8df: Pulling fs layer
26be9f471823: Pulling fs layer
34ce8ba30961: Pulling fs layer
e6178d2c0976: Pulling fs layer
4f4fb700ef54: Pulling fs layer
68d6b356cfa6: Waiting
b9ac3fccdee8: Waiting
e588bc675351: Waiting
e51987dd3261: Waiting
b308621eb3e6: Waiting
9bb8a6cde081: Waiting
8cde9b053189: Waiting
ab5ef8fcc8f3: Waiting
3147e65229c6: Waiting
c902fddc9ebc: Waiting
dc0c9a1703ec: Waiting
c669b00d5572: Waiting
6ca7e417f8df: Waiting
26be9f471823: Waiting
34ce8ba30961: Waiting
e6178d2c0976: Waiting
4f4fb700ef54: Waiting
fe7ad6f9509d: Waiting
3e46f7907d58: Verifying Checksum
3e46f7907d58: Download complete
cc313e18cf91: Verifying Checksum
cc313e18cf91: Download complete
b5610eafd34a: Verifying Checksum
b5610eafd34a: Download complete
6a76213686a9: Verifying Checksum
6a76213686a9: Download complete
b5610eafd34a: Pull complete
72268a235e14: Verifying Checksum
72268a235e14: Download complete
fe0a88c014e5: Verifying Checksum
fe0a88c014e5: Download complete
37c380976094: Verifying Checksum
37c380976094: Download complete
cc313e18cf91: Pull complete
e3d881d68312: Verifying Checksum
e3d881d68312: Download complete
f4ea2782e950: Verifying Checksum
f4ea2782e950: Download complete
1a82443b3661: Verifying Checksum
1a82443b3661: Download complete
3e46f7907d58: Pull complete
fe7ad6f9509d: Verifying Checksum
fe7ad6f9509d: Download complete
68d6b356cfa6: Verifying Checksum
68d6b356cfa6: Download complete
b9ac3fccdee8: Verifying Checksum
b9ac3fccdee8: Download complete
6a76213686a9: Pull complete
e588bc675351: Verifying Checksum
e588bc675351: Download complete
e51987dd3261: Verifying Checksum
e51987dd3261: Download complete
b308621eb3e6: Verifying Checksum
b308621eb3e6: Download complete
9bb8a6cde081: Verifying Checksum
9bb8a6cde081: Download complete
8cde9b053189: Verifying Checksum
8cde9b053189: Download complete
3147e65229c6: Verifying Checksum
3147e65229c6: Download complete
72268a235e14: Pull complete
ab5ef8fcc8f3: Download complete
c902fddc9ebc: Verifying Checksum
c902fddc9ebc: Download complete
dc0c9a1703ec: Verifying Checksum
dc0c9a1703ec: Download complete
c669b00d5572: Verifying Checksum
c669b00d5572: Download complete
34ce8ba30961: Verifying Checksum
34ce8ba30961: Download complete
26be9f471823: Verifying Checksum
26be9f471823: Download complete
6ca7e417f8df: Verifying Checksum
6ca7e417f8df: Download complete
e6178d2c0976: Verifying Checksum
e6178d2c0976: Download complete
4f4fb700ef54: Verifying Checksum
4f4fb700ef54: Download complete
37c380976094: Pull complete
fe0a88c014e5: Pull complete
1a82443b3661: Pull complete
f4ea2782e950: Pull complete
e3d881d68312: Pull complete
fe7ad6f9509d: Pull complete
68d6b356cfa6: Pull complete
b9ac3fccdee8: Pull complete
e588bc675351: Pull complete
e51987dd3261: Pull complete
b308621eb3e6: Pull complete
9bb8a6cde081: Pull complete
8cde9b053189: Pull complete
ab5ef8fcc8f3: Pull complete
3147e65229c6: Pull complete
c902fddc9ebc: Pull complete
dc0c9a1703ec: Pull complete
c669b00d5572: Pull complete
6ca7e417f8df: Pull complete
26be9f471823: Pull complete
34ce8ba30961: Pull complete
e6178d2c0976: Pull complete
4f4fb700ef54: Pull complete
Digest: sha256:9861fbba77cfc8024a38b34d8af305a59b1e7f11dfbd7dd3bebbd8a07c8bdd24
Status: Downloaded newer image for us-central1-docker.pkg.dev/serverless-runtimes/google-22-full/builder/nodejs:nodejs_20251025_RC00
public-image-next: Pulling from serverless-runtimes/google-22/run/base
828c1365039a: Already exists
ef1176db91cf: Pulling fs layer
41174c6393e9: Pulling fs layer
ef1176db91cf: Verifying Checksum
ef1176db91cf: Download complete
ef1176db91cf: Pull complete
41174c6393e9: Verifying Checksum
41174c6393e9: Download complete
41174c6393e9: Pull complete
Digest: sha256:7cbc64ef4572c0976045e8ea84f53dde8ac06b12cb9871847010e7a0c5623e1e
Status: Downloaded newer image for us-central1-docker.pkg.dev/serverless-runtimes/google-22/run/base:public-image-next
===> ANALYZING
Image with name "us-central1-docker.pkg.dev/wayru-peru/firebaseapphosting-images/wayru:build-2025-11-02-002" not found
===> DETECTING
target distro name/version labels not found, reading /etc/os-release file
4 of 6 buildpacks participating
google.nodejs.runtime        1.0.0
google.nodejs.firebasenextjs 0.0.1
google.nodejs.npm            1.1.0
google.nodejs.firebasebundle 0.0.1
===> RESTORING
===> BUILDING
target distro name/version labels not found, reading /etc/os-release file
=== Node.js - Runtime (google.nodejs.runtime@1.0.0) ===
2025/11/02 22:35:34 [DEBUG] GET https://dl.google.com/runtimes/ubuntu2204/nodejs/version.json
Adding image label google.runtime-version: nodejs22
2025/11/02 22:35:35 [DEBUG] GET https://dl.google.com/runtimes/ubuntu2204/nodejs/version.json
Installing Node.js v22.21.0.
2025/11/02 22:35:36 [DEBUG] GET https://dl.google.com/runtimes/ubuntu2204/nodejs/nodejs-22.21.0.tar.gz
Installing the heapsize.sh exec.d script.
=== Node.js - Firebasenextjs (google.nodejs.firebasenextjs@0.0.1) ===
***** CACHE MISS: "npm_modules"
Installing nextjs adaptor 14.0.18
=== Node.js - Npm (google.nodejs.npm@1.1.0) ===
***** CACHE MISS: "npm_modules"
Installing application dependencies.
--------------------------------------------------------------------------------
Running "npm ci --quiet --no-fund --no-audit (NODE_ENV=development)"
npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated @types/handlebars@4.1.0: This is a stub types definition. handlebars provides its own type definitions, so you do not need this installed.
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
added 739 packages in 33s
Done "npm ci --quiet --no-fund --no-audit (NODE_ENV=development)" (32.822329964s)
--------------------------------------------------------------------------------
Running "npm exec --prefix /layers/google.nodejs.firebasenextjs/npm_modules apphosting-adapter-nextjs-build"
Overriding Next Config to add configs optmized for Firebase App Hosting
Successfully created next.config.ts with Firebase App Hosting overrides
> nextn@0.1.0 build
> next build
   ▲ Next.js 15.2.3
   Creating an optimized production build ...
 ✓ Compiled successfully
   Skipping validation of types
   Skipping linting
   Collecting page data ...
   Generating static pages (0/13) ...
Error occurred prerendering page "/contact". Read more: https://nextjs.org/docs/messages/prerender-error
Error: Event handlers cannot be passed to Client Component props.
  {onSubmit: function onSubmit, className: ..., children: ...}
             ^^^^^^^^^^^^^^^^^
If you need interactivity, consider converting part of this to a Client Component.
    at e$ (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:23404)
    at Object.toJSON (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:14854)
    at stringify (<anonymous>)
    at eF (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:26079)
    at eq (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:26391)
    at ez (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:26887)
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at /workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:27678
    at node:internal/process/task_queues:151:7
    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
Export encountered an error on /contact/page: /contact, exiting the build.
 ⨯ Next.js build worker exited with code: 1 and signal: null
Restoring original next config in project root
/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61
                reject(new Error(`Build process exited with error code ${code}.`));
                       ^
Error: Build process exited with error code 1.
    at ChildProcess.<anonymous> (/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61:24)
    at ChildProcess.emit (node:events:519:28)
    at ChildProcess._handle.onexit (node:internal/child_process:293:12)
Node.js v22.21.0
Done "npm exec --prefix /layers/google.nodejs.firebasenextjs/npm_m..." (45.311032012s)
--------------------------------------------------------------------------------
failed to build: (error ID: 2d7ddd29):
{"reason":"Failed Framework Build","code":"fah/failed-framework-build","userFacingMessage":"Your application failed to run the framework build command 'npm exec --prefix /layers/google.nodejs.firebasenextjs/npm_modules apphosting-adapter-nextjs-build' successfully. Please check the raw log to address the error and confirm that your application builds locally before redeploying.","rawLog":"(error ID: d0a693a9):
Overriding Next Config to add configs optmized for Firebase App Hosting
Successfully created next.config.ts with Firebase App Hosting overrides
> nextn@0.1.0 build
> next build
   ▲ Next.js 15.2.3
   Creating an optimized production build ...
 ✓ Compiled successfully
   Skipping validation of types
   Skipping linting
   Collecting page data ...
   Generating static pages (0/13) ...
Error occurred prerendering page "/contact". Read more: https://nextjs.org/docs/messages/prerender-error
Error: Event handlers cannot be passed to Client Component props.
  {onSubmit: function onSubmit, className: ..., children: ...}
             ^^^^^^^^^^^^^^^^^
If you need interactivity, consider converting part of this to a Client Component.
    at e$ (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:23404)
    at Object.toJSON (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:14854)
    at stringify (<anonymous>)
    at eF (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:26079)
    at eq (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:26391)
    at ez (/workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:26887)
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14)
    at /workspace/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:17:27678
    at node:internal/process/task_queues:151:7
    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
Export encountered an error on /contact/page: /contact, exiting the build.
 ⨯ Next.js build worker exited with code: 1 and signal: null
Restoring original next config in project root
/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61
                reject(new Error(`Build process exited with error code ${code}.`));
                       ^
Error: Build process exited with error code 1.
    at ChildProcess.<anonymous> (/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61:24)
    at ChildProcess.emit (node:events:519:28)
    at ChildProcess._handle.onexit (node:internal/child_process:293:12)
Node.js v22.21.0"}
ERROR: failed to build: exit status 1
ERROR: failed to build: executing lifecycle: failed with status code: 51